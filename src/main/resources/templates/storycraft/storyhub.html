<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>
    <div th:replace="fragments :: header-bar"></div>

    <form method="post" action="/storycraft/storyhub">
        <label>Title</label>
        <span class="error" th:errors="${story.title}"></span>
        <br>
        <input th:field="${story.title}" class="text-input">
        <br>

        <label th:for="world">World</label>
        <br>
        <select name="worldId">
            <option th:each="world : ${worlds}"
                    th:text="${world.title}"
                    th:value="${world.id}"></option>
        </select>
        <br>

        <label>Description</label>
        <span class="error" th:errors="${story.description}"></span>
        <br>
        <textarea th:field="${story.description}"></textarea>
        <br>

        <input type="submit" value="Create New Story">
    </form>

    <hr>

    <ul>
        <th:block th:each="story : ${stories}">
            <a class="title_in_list" th:href="@{/storycraft/storyview(column=story, value=${story.title})}" th:text="${story.title}"></a>
            <li th:text="${story.description}"></li>
            <br><br>
        </th:block>
    </ul>
</body>
</html>